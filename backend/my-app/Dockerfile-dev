FROM node:19-alpine3.15

WORKDIR /usr/src/app

COPY *.json ./

RUN npm install

COPY --chown=node:node. .

ENV NPM_CONFIG_PREFIX=/home/node/.npm-global

ENV PATH=$PATH:/home/node/.npm-global/bin

ENV PATH /app/node_modules/.bin:$PATH

ENV NODE_ENV=development

USER node

CMD ["npm", "run", "start:dev"]
